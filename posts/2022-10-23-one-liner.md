---
title: "JavaScriptãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼"
date: "2022-10-23"
---

é–‹ç™ºã§ã‚ˆãé­é‡ã™ã‚‹ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚
é©åˆ‡ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã§çŸ­ãã¦èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã—ã‚‡ã†ãƒ¼

## EcmaScript
### é…åˆ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
``` JavaScript
const shuffleArray = (arr) => arr.sort(() => Math.random() - 0.5)
shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
// [8, 6, 5, 7, 9, 1, 2, 3, 10, 4]
```

### ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªé…åˆ—ã‚’å–å¾—
``` JavaScript
const removeDuplicateArray = (arr) => [...new Set(arr)]
removeDuplicateArray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1])
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```

### æ•°å€¤ã®é…åˆ—ã®å¹³å‡ã‚’å–å¾—ã™ã‚‹
``` JavaScript
const average = arr => arr.reduce((a, b) => a + b) / arr.length
average([43, 94, 13, 35, 73])
// 51.6
```

### å¤‰æ•°ãŒé…åˆ—ã‹ã©ã†ã‹
``` JavaScript
const fruit = 'ðŸŽ'
const fruits = ["ðŸŽ", "ðŸŒ", "ðŸ¥­", "ðŸŠ", "ðŸ‡"]
const isArray = (arr) => Array.isArray(arr)

isArray(fruit) // false
isArray(fruits) // true
```


### å…ˆé ­ã®ä¸€æ–‡å­—ã‚’å¤§æ–‡å­—ã«ã™ã‚‹
``` JavaScript
const capitalize = str => str.replace(/(^\w{1})|(\s+\w{1})/g, match => match.toUpperCase())
capitalize("javascript programing language")
//Javascript Programing Language
```


### æ–‡å­—åˆ—ã‚’é€†ã«ã™ã‚‹
``` JavaScript
const stringReverse = str => str.split('').reverse().join('')
stringReverse("å›žæ–‡ã¨ã¯")
// ã¯ã¨æ–‡å›ž
stringReverse("ãŸã‘ã‚„ã¶ã‚„ã‘ãŸ")
//ãŸã‘ã‚„ã¶ã‚„ã‘ãŸ
```

### å°æ•°ç‚¹ä»¥ä¸‹ã®æ•°å­—ã‚’ç‰¹å®šã®æ¡æ•°ã«ä¸¸ã‚ã‚‹
JavaScriptã§æµ®å‹•å°æ•°ç‚¹ã®å°‘æ•°ã‚’ä¸¸ã‚ã‚‹ã®ã¯ã€å°‘ã€…æ‰±ã„ã«ãã„ã§ã™ã€‚
toFiexed()ã‚’ä½¿ã†ã¨ã€æŒ‡å®šã—ãŸæ¡æ•°ã§ä¸¸ã‚ã‚‰ã‚Œã¾ã™ãŒã€æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã®ä»•çµ„ã¿ãŒåŽŸå› ã§ã€å ´åˆã«ã‚ˆã£ã¦ã¯èª¤å·®ãŒç™ºç”Ÿã—ã¾ã™ã€‚
``` JavaScript
// âœ…
Number((1.059).toFixed(2)) //1.06 OK
Number((1.047).toFixed(2)) //1.05 NG 

// âŒ
console.log(Number((1.005).toFixed(2))) // 1    NG. expected 1.01
console.log(Number((1.055).toFixed(2))) // 1.05 NG. expected 1.06
```

ã“ã®å‹•ä½œã‚’å›žé¿ã™ã‚‹ãŸã‚ã«ã€æ•°å€¤ã‚’æŒ‡æ•°è¡¨è¨˜ã§è¡¨ã—ã€`Math.round()`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§
æŒ‡å®šã®æ¡æ•°ã«ä¸¸ã‚ã‚‰ã‚ŒãŸå°æ•°ã‚’å–å¾—ã§ãã¾ã™ã€‚
``` JavaScript
const round = (n, d) => Number(Math.round(n + 'e' + d) + 'e-' + d)
round(1.005, 2) //1.01 OK
round(1.055, 2) //1.06 OK
```

### ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ç”Ÿæˆ
``` JavaScript
const randomString = () => Math.random().toString(36).slice(2)
randomString(); //pjxl9h0x3k
```

### ãƒ©ãƒ³ãƒ€ãƒ ãª 16 é€²æ•°ã®è‰²ã‚’ç”Ÿæˆã™ã‚‹
``` JavaScript
const hexColor = () => '#' + Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, '0')
hexColor() // #942d7e
```

### ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’æŠ½å‡º
``` JavaScript
const getDomain = (email) => email.substring(email.indexOf('@') + 1)
getDomain('google@gmail.com') // gmail.com
```


### æ—¥ä»˜å½¢å¼ã‚’é€†ã«ã—ã¦åŒºåˆ‡ã‚Šæ–‡å­—ã‚’å¤‰æ›´ã™ã‚‹
``` JavaScript
const transDate = (date) => date.split("-").reverse().join('-')
transDate('2022-10-23') // 23/10/2022
```

### æ—¥ã®é–“éš”ã‚’å–å¾—
``` JavaScript
const dayDif = (date1, date2) => Math.ceil(Math.abs(date1.getTime() - date2.getTime()) / 86400000)
dayDif(new Date('2022-10-01'), new Date('2022-10-23')) //22
```

## Windowã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

### ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
``` JavaScript
const copyToClipboard = (text) => navigator.clipboard?.writeText && navigator.clipboard.writeText(text)
copyToClipboard("Hello World!")
```

### ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®æ¤œå‡º
``` JavaScript
const isDarkMode = () => window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
console.log(isDarkMode()); // true or false
```

### ãƒˆãƒƒãƒ—ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
``` JavaScript
const scrollToTop = (element) =>
  element.scrollIntoView({ behavior: 'smooth', block: 'start' })
const target = document.getElementById('topElement')
scrollToTop(target) // topElementã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
```

### ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
``` JavaScript
const scrollToBottom = (element) =>
  element.scrollIntoView({ behavior: 'smooth', block: 'end' })
const target = document.getElementById('bottomElement')
scrollToBottom(target) // bottomElementã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
```

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¸ã®ä¸€ç•ªä¸‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãŸã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹
``` JavaScript
const scrolledToBottom = () => 
    document.documentElement.clientHeight + window.scrollY >= document.documentElement.scrollHeight
scrolledToBottom() // true or false
```


### è¦ç´ ã®è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
``` JavaScript
const toggle = element => element.style.display = (element.style.display === 'none' ? 'block' : 'none')
const target = document.getElementById('targetElement')
toggle(target) // hide
toggle(target) // show
```

### è¦ç´ ãŒãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèª
``` JavaScript
const isFocus = (element) => element == document.activeElemnt
const target = document.getElementById('targetElement')
isFocus(target) // true or false
```


### å…¨ã¦ã®Cookieã‚’æ¶ˆåŽ»
``` JavaScript
const clearCookies = () => 
    document.cookie.split(';').forEach(cookie => document.cookie = cookie.replace(/^ +/, '').replace(/=.*/, `=;expires=${new Date(0).toUTCString()};path=/`))
clearCookies()
```

### ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ HTML ã‚’å–ã‚Šé™¤ã
``` JavaScript
const stripHtml = html => (new DOMParser().parseFromString(html, 'text/html')).body.textContent || ''
stripHtml('<p><em>hello</em> <strong>world</strong></p>') // 'hello world'
```
